update umbracoUserType set userTypeDefaultPermissions = 'CADMOSKTPIURZ' where
id = 1
update umbracoUserType set userTypeDefaultPermissions = 'CA' where id = 2
update umbracoUserType set userTypeDefaultPermissions = 'CADMOSKTPUZ' where
id = 3

CREATE TABLE [umbracoRelation] (
    [id] [int] IDENTITY (1, 1) NOT NULL ,
    [parentId] [int] NOT NULL ,
    [childId] [int] NOT NULL ,
    [relType] [int] NOT NULL ,
    [datetime] [datetime] NOT NULL CONSTRAINT [DF_umbracoRelation_datetime]
DEFAULT (getdate()),
    [comment] [nvarchar] (1000) NOT NULL ,
    CONSTRAINT [PK_umbracoRelation] PRIMARY KEY  CLUSTERED 
    (
        [id]
    )  ON [PRIMARY] 
) ON [PRIMARY]
|


CREATE TABLE [umbracoRelationType] (
    [id] [int] IDENTITY (1, 1) NOT NULL ,
    [dual] [bit] NOT NULL ,
    [parentObjectType] [uniqueidentifier] NOT NULL ,
    [childObjectType] [uniqueidentifier] NOT NULL ,
    [name] [nvarchar] (255) NOT NULL ,
    CONSTRAINT [PK_umbracoRelationType] PRIMARY KEY  CLUSTERED 
    (
        [id]
    )  ON [PRIMARY] 
) ON [PRIMARY]
|


alter TABLE [cmsMacro] 
add [macroCacheByPage] [bit] NOT NULL CONSTRAINT
[DF_cmsMacro_macroCacheByPage] DEFAULT (1)
alter TABLE [cmsMacro] 
add [macroCachePersonalized] [bit] NOT NULL CONSTRAINT
[DF_cmsMacro_macroCachePersonalized] DEFAULT (0)
|

ALTER  view umbracoContent as
select
 node.id nodeID,
 cd.versionId as versionID,
 cd.published as show,
 node.parentID,
 node.nodeUser,
 node.[level],
 node.sortOrder,                     
 cc.contentType,        
 isnull(cd.templateId,dct.templateNodeId) as templateNodeId,

 cd.documentUser,                    
 1 as language,                    
 node.createdate as createdate,              
 cd.updateDate,                    
 cd.releasedate,                    
 cd.expiredate,                    
 node.path,                    
 cd.text as nodeName,         
 lower(cd.text) as urlName,      
 versionUser.userName as versionUserName,          
 nodeUser.userName as nodeUserName,          
 ct.alias,        
 ctNode.text as nodeTypeName        
from                     
 umbracoNode node          
 inner join cmsContent cc on cc.nodeId = node.id    
 inner join cmsDocument cd on cd.nodeId = node.id and published = 1    
 inner join cmsContentType ct on ct.nodeId = cc.contentType    
 inner join umbracoNode ctNode on ctNode.id = ct.nodeId    
 left join cmsDocumentType dct on dct.contentTypeNodeId = ct.NodeId and
dct.isDefault = 1   
 left join umbracoUser nodeUser on nodeUser.id = node.nodeUser          
 left join umbracoUser versionUser on versionUser.id = cd.documentUser    
and node.nodeObjectType = 'C66BA18E-EAF3-4CFF-8A22-41B16D66A972'
and node.parentID <> -10
|
                    
    
    
  
CREATE TABLE [cmsMember2MemberGroup] (
    [Member] [int] NOT NULL ,
    [MemberGroup] [int] NOT NULL ,
    CONSTRAINT [PK_cmsMember2MemberGroup] PRIMARY KEY  CLUSTERED 
    (
        [Member],
        [MemberGroup]
    )  ON [PRIMARY] 
) ON [PRIMARY]
|


ALTER TABLE umbracoLog ALTER COLUMN logComment NVARCHAR(1000) NULL
|

alter TABLE [cmsDataTypePreValues] 
add [alias] [nvarchar] (50) NULL
|

CREATE TABLE [umbracoUser2NodeNotify] (
	[userId] [int] NOT NULL ,
	[nodeId] [int] NOT NULL ,
	[action] [char] (1) NOT NULL ,
	CONSTRAINT [PK_umbracoUser2NodeNotify] PRIMARY KEY  CLUSTERED 
	(
		[userId],
		[nodeId],
		[action]
	)  ON [PRIMARY] 
) ON [PRIMARY]
|

alter TABLE [cmsPropertyType] 
add [sortOrder] [int] NOT NULL DEFAULT (0)
|

CREATE TABLE [cmsContentXml] (
	[nodeId] [int] NOT NULL ,
	[xml] [ntext] COLLATE Danish_Norwegian_CI_AS NOT NULL ,
	CONSTRAINT [PK_cmsContentXml] PRIMARY KEY  CLUSTERED 
	(
		[nodeId]
	)  ON [PRIMARY] 
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
|

alter TABLE [cmsPropertyType] 
add [mandatory] [bit] NOT NULL DEFAULT (0)
|

alter TABLE [cmsPropertyType] 
add [validationRegExp] [nvarchar] (255) NULL
|

alter TABLE [cmsPropertyType] 
add [Description] [nvarchar] (2000) NULL
|

alter TABLE [umbracoStatSession] 
add [allowCookies] [bit] NOT NULL DEFAULT (0)
|

update cmsMacroPropertyType set macroPropertyTypeAlias = 'contentPicker' where id = 6
|
insert into cmsMacroPropertyType values ('tabPicker','umbraco.macroRenderings','tabPicker','String')
|
insert into cmsMacroPropertyType values ('tabPickerMultiple','umbraco.macroRenderings','tabPickerMultiple','String')
|
insert into cmsMacroPropertyType values ('propertyTypePicker','umbraco.macroRenderings','propertyTypePicker','String')
|
insert into cmsMacroPropertyType values ('propertyTypePickerMultiple','umbraco.macroRenderings','propertyTypePickerMultiple','String')
|
insert into cmsMacroPropertyType values ('textMultiLine','umbraco.macroRenderings','textMultiple','String')
|
insert into umbracoAppTree values (0,1,1,'settings','dictionary','Dictionary','folder.gif','folder_o.gif','umbraco','loadDictionary')
|
insert into umbracoAppTree values (0,1,1,'member','memberGroup','MemberGroups','folder.gif','folder_o.gif','umbraco','loadMemberGroups')
